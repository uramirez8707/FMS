<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: mpp_update_domains Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2021.04.0-dev</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interfacempp__domains__mod_1_1mpp__update__domains.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="interfacempp__domains__mod_1_1mpp__update__domains-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mpp_update_domains Interface Reference<div class="ingroups"><a class="el" href="group__mpp.html">MPP</a> &raquo; <a class="el" href="group__mpp__domains__mod.html">mpp_domains_mod</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs halo updates for a given domain.<br  />
  
 <a href="interfacempp__domains__mod_1_1mpp__update__domains.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8b65ed813ec5c58dc1319ecfc46597b0"><td class="memItemLeft" align="right" valign="top"><a id="a8b65ed813ec5c58dc1319ecfc46597b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_2d</b></td></tr>
<tr class="separator:a8b65ed813ec5c58dc1319ecfc46597b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae65c4281b8d5ad79903e3c8ece0e67a"><td class="memItemLeft" align="right" valign="top"><a id="aae65c4281b8d5ad79903e3c8ece0e67a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_3d</b></td></tr>
<tr class="separator:aae65c4281b8d5ad79903e3c8ece0e67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346b3e7063e1a180a197a81d6cbf29aa"><td class="memItemLeft" align="right" valign="top"><a id="a346b3e7063e1a180a197a81d6cbf29aa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_4d</b></td></tr>
<tr class="separator:a346b3e7063e1a180a197a81d6cbf29aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ca0fa937bacb2c4abfe31adc81e3cb"><td class="memItemLeft" align="right" valign="top"><a id="a47ca0fa937bacb2c4abfe31adc81e3cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_5d</b></td></tr>
<tr class="separator:a47ca0fa937bacb2c4abfe31adc81e3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f7a8e7a7a65dfe658b1191df12fcb8"><td class="memItemLeft" align="right" valign="top"><a id="aa9f7a8e7a7a65dfe658b1191df12fcb8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_2dv</b></td></tr>
<tr class="separator:aa9f7a8e7a7a65dfe658b1191df12fcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50677511376ddd235128e92ec25eec09"><td class="memItemLeft" align="right" valign="top"><a id="a50677511376ddd235128e92ec25eec09"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_3dv</b></td></tr>
<tr class="separator:a50677511376ddd235128e92ec25eec09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5286ef6daaf802ba4a407f9c6abf7b36"><td class="memItemLeft" align="right" valign="top"><a id="a5286ef6daaf802ba4a407f9c6abf7b36"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_4dv</b></td></tr>
<tr class="separator:a5286ef6daaf802ba4a407f9c6abf7b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bafe32a6b999bfecc9aaad18a84297"><td class="memItemLeft" align="right" valign="top"><a id="ad5bafe32a6b999bfecc9aaad18a84297"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r8_5dv</b></td></tr>
<tr class="separator:ad5bafe32a6b999bfecc9aaad18a84297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119389f30c787e02d72962c7a4152fbc"><td class="memItemLeft" align="right" valign="top"><a id="a119389f30c787e02d72962c7a4152fbc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i8_2d</b></td></tr>
<tr class="separator:a119389f30c787e02d72962c7a4152fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefe6437119679a89356b8018ebc1896"><td class="memItemLeft" align="right" valign="top"><a id="abefe6437119679a89356b8018ebc1896"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i8_3d</b></td></tr>
<tr class="separator:abefe6437119679a89356b8018ebc1896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860273263d74f984545a763720e25c21"><td class="memItemLeft" align="right" valign="top"><a id="a860273263d74f984545a763720e25c21"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i8_4d</b></td></tr>
<tr class="separator:a860273263d74f984545a763720e25c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf01e005f9df45889ff9e0c4640cde16"><td class="memItemLeft" align="right" valign="top"><a id="acf01e005f9df45889ff9e0c4640cde16"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i8_5d</b></td></tr>
<tr class="separator:acf01e005f9df45889ff9e0c4640cde16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0a7bba9d365239691d141e823aaa8a"><td class="memItemLeft" align="right" valign="top"><a id="a0d0a7bba9d365239691d141e823aaa8a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_2d</b></td></tr>
<tr class="separator:a0d0a7bba9d365239691d141e823aaa8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcc111cfbab64abe30d8305b1f9cef2"><td class="memItemLeft" align="right" valign="top"><a id="a8bcc111cfbab64abe30d8305b1f9cef2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_3d</b></td></tr>
<tr class="separator:a8bcc111cfbab64abe30d8305b1f9cef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1aeea4fbde1ab90545b0993c36b97b"><td class="memItemLeft" align="right" valign="top"><a id="a0a1aeea4fbde1ab90545b0993c36b97b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_4d</b></td></tr>
<tr class="separator:a0a1aeea4fbde1ab90545b0993c36b97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb95795f440939124b74a9476f0a9b1"><td class="memItemLeft" align="right" valign="top"><a id="aadb95795f440939124b74a9476f0a9b1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_5d</b></td></tr>
<tr class="separator:aadb95795f440939124b74a9476f0a9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637c29819536a068a4c098f4234e3c4b"><td class="memItemLeft" align="right" valign="top"><a id="a637c29819536a068a4c098f4234e3c4b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_2dv</b></td></tr>
<tr class="separator:a637c29819536a068a4c098f4234e3c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6ca13c1e8149d61ce1df940c71bb8b"><td class="memItemLeft" align="right" valign="top"><a id="a0c6ca13c1e8149d61ce1df940c71bb8b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_3dv</b></td></tr>
<tr class="separator:a0c6ca13c1e8149d61ce1df940c71bb8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b710691853cae8f1cdc10cbfe269db"><td class="memItemLeft" align="right" valign="top"><a id="a52b710691853cae8f1cdc10cbfe269db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_4dv</b></td></tr>
<tr class="separator:a52b710691853cae8f1cdc10cbfe269db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b962abf696c70c4ae1650be80f071e4"><td class="memItemLeft" align="right" valign="top"><a id="a8b962abf696c70c4ae1650be80f071e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_r4_5dv</b></td></tr>
<tr class="separator:a8b962abf696c70c4ae1650be80f071e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad712fc9aa0f9f981b2eabd73e963d606"><td class="memItemLeft" align="right" valign="top"><a id="ad712fc9aa0f9f981b2eabd73e963d606"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i4_2d</b></td></tr>
<tr class="separator:ad712fc9aa0f9f981b2eabd73e963d606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8117c65d3b28712b8f733ac3a64dc0"><td class="memItemLeft" align="right" valign="top"><a id="a4b8117c65d3b28712b8f733ac3a64dc0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i4_3d</b></td></tr>
<tr class="separator:a4b8117c65d3b28712b8f733ac3a64dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b24a98c4500f2d21cd772b1ae229589"><td class="memItemLeft" align="right" valign="top"><a id="a2b24a98c4500f2d21cd772b1ae229589"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i4_4d</b></td></tr>
<tr class="separator:a2b24a98c4500f2d21cd772b1ae229589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44496a0a8b54cd43feb87fb4f37e54ca"><td class="memItemLeft" align="right" valign="top"><a id="a44496a0a8b54cd43feb87fb4f37e54ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mpp_update_domain2d_i4_5d</b></td></tr>
<tr class="separator:a44496a0a8b54cd43feb87fb4f37e54ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs halo updates for a given domain.<br  />
 </p>
<p>Used to perform a halo update of a domain-decomposed array on each PE. <em>MPP_TYPE</em> can be of type complex, integer, logical or real of 4-byte or 8-byte kind; of rank up to 5. The vector version (with two input data fields) is only present for real types. For 2D domain updates, if there are halos present along both x and y, we can choose to update one only, by specifying <em>flags=XUPDATE</em> or <em>flags=YUPDATE</em>. In addition, one-sided updates can be performed by setting flags to any combination of WUPDATE, EUPDATE, SUPDATE and NUPDATE to update the west, east, north and south halos respectively. Any combination of halos may be used by adding the requisite flags, e.g: <em>flags=XUPDATE+SUPDATE</em> or <em>flags=EUPDATE+WUPDATE+SUPDATE</em> will update the east, west and south halos.<br  />
 <br  />
 If a call to <em><a class="el" href="interfacempp__domains__mod_1_1mpp__update__domains.html" title="Performs halo updates for a given domain.">mpp_update_domains</a></em> involves at least one E-W halo and one N-S halo, the corners involved will also be updated, i.e, in the example above, the SE and SW corners will be updated.<br  />
 If <em>flags</em> is not supplied, that is equivalent to <em>flags=XUPDATE+YUPDATE</em>.<br  />
 <br  />
 The vector version is passed the <em>x</em> and <em>y</em> components of a vector field in tandem, and both are updated upon return. They are passed together to treat parity issues on various grids. For example, on a cubic sphere projection, the <em>x</em> <em>y</em> components may be interchanged when passing from an equatorial cube face to a polar face. For grids with folds, vector components change sign on crossing the fold. Paired scalar quantities can also be passed with the vector version if <em>flags=SCALAR_PAIR</em>, in which case components are appropriately interchanged, but signs are not.<br  />
 <br  />
 Special treatment at boundaries such as folds is also required for staggered grids. The following types of staggered grids are recognized:<br  />
 <br  />
 1) AGRID: values are at grid centers.<br  />
 2) BGRID_NE: vector fields are at the NE vertex of a grid cell, i.e: the array elements <em>u(i,j)and</em> <em>v(i,j)are</em> actually at (i,j;) with respect to the grid centers.<br  />
 3) BGRID_SW: vector fields are at the SW vertex of a grid cell, i.e: the array elements <em>u(i,j)</em> and <em>v(i,j)</em> are actually at (i;,j;) with respect to the grid centers<br  />
 4) CGRID_NE: vector fields are at the N and E faces of a grid cell, i.e: the array elements <em>u(i,j)</em> and <em>v(i,j)</em> are actually at (i;,j) and (i,j+&amp;#189;) with respect to the grid centers.<br  />
 5) CGRID_SW: vector fields are at the S and W faces of a grid cell, i.e: the array elements <em>u(i,j)and</em> <em>v(i,j)</em> are actually at (i;,j) and (i,j;) with respect to the grid centers.<br  />
 <br  />
 The gridtypes listed above are all available by use association as integer parameters. The scalar version of <em><a class="el" href="interfacempp__domains__mod_1_1mpp__update__domains.html" title="Performs halo updates for a given domain.">mpp_update_domains</a></em> assumes that the values of a scalar field are always at <em>AGRID</em> locations, and no special boundary treatment is required. If vector fields are at staggered locations, the optional argument <em>gridtype</em> must be appropriately set for correct treatment at boundaries. <br  />
 It is safe to apply vector field updates to the appropriate arrays irrespective of the domain topology: if the topology requires no special treatment of vector fields, specifying <em>gridtype</em> will do no harm.<br  />
 <br  />
 <em><a class="el" href="interfacempp__domains__mod_1_1mpp__update__domains.html" title="Performs halo updates for a given domain.">mpp_update_domains</a></em> internally buffers the date being sent and received into single messages for efficiency. A turnable internal buffer area in memory is provided for this purpose by <em>mpp_domains_mod</em>. The size of this buffer area can be set by the user by calling mpp_domains <em>mpp_domains_set_stack_size</em>.</p>
<p>Example usage: call mpp_update_domains( field, domain, flags ) Update a 1D domain for the given field. call mpp_update_domains( fieldx, fieldy, domain, flags, gridtype ) Update a 2D domain for the given fields. </p>

<p class="definition">Definition at line <a class="el" href="mpp__domains_8F90_source.html#l00999">999</a> of file <a class="el" href="mpp__domains_8F90_source.html">mpp_domains.F90</a>.</p>
</div><hr/>The documentation for this interface was generated from the following file:<ul>
<li>mpp/<a class="el" href="mpp__domains_8F90_source.html">mpp_domains.F90</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mpp_domains_mod</b></li><li class="navelem"><a class="el" href="interfacempp__domains__mod_1_1mpp__update__domains.html">mpp_update_domains</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
