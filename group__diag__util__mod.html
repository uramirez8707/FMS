<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: diag_util_mod</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2022.01.0-dev</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__diag__util__mod.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">diag_util_mod<div class="ingroups"><a class="el" href="group__diag__manager.html">Diag Manager</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions and subroutines necessary for the <code>diag_manager_mod</code>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacediag__util__mod_1_1prepend__attribute.html">prepend_attribute</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepend a value to a string attribute in the output field or output file.  <a href="interfacediag__util__mod_1_1prepend__attribute.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacediag__util__mod_1_1attribute__init.html">attribute_init</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the atttype in out_file.  <a href="interfacediag__util__mod_1_1attribute__init.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:gacc4526c60b92413b1bdd1fd497515ce3"><td class="memItemLeft" align="right" valign="top"><a id="gacc4526c60b92413b1bdd1fd497515ce3"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gacc4526c60b92413b1bdd1fd497515ce3">diag_util_init</a> ()</td></tr>
<tr class="memdesc:gacc4526c60b92413b1bdd1fd497515ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the version number of this file to the log file. <br /></td></tr>
<tr class="separator:gacc4526c60b92413b1bdd1fd497515ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01b637e7d0e8e84d29ddb75cd7b6ebbf"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga01b637e7d0e8e84d29ddb75cd7b6ebbf">get_subfield_size</a> (axes, outnum)</td></tr>
<tr class="memdesc:ga01b637e7d0e8e84d29ddb75cd7b6ebbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size, start, and end indices for output fields.  <a href="group__diag__util__mod.html#ga01b637e7d0e8e84d29ddb75cd7b6ebbf">More...</a><br /></td></tr>
<tr class="separator:ga01b637e7d0e8e84d29ddb75cd7b6ebbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d6d348cbcc3adcbb546196710b82201"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga8d6d348cbcc3adcbb546196710b82201">get_subfield_vert_size</a> (axes, outnum)</td></tr>
<tr class="memdesc:ga8d6d348cbcc3adcbb546196710b82201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size, start and end indices for output fields.  <a href="group__diag__util__mod.html#ga8d6d348cbcc3adcbb546196710b82201">More...</a><br /></td></tr>
<tr class="separator:ga8d6d348cbcc3adcbb546196710b82201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcd91761ec14e6c50d843282f0576993"><td class="memItemLeft" align="right" valign="top"><a id="gafcd91761ec14e6c50d843282f0576993"></a>
integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gafcd91761ec14e6c50d843282f0576993">get_index</a> (number, array)</td></tr>
<tr class="memdesc:gafcd91761ec14e6c50d843282f0576993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find index <code>i</code> of array such that <code>array(i)</code> is closest to number. <br /></td></tr>
<tr class="separator:gafcd91761ec14e6c50d843282f0576993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8d38630de6f6ace1cb1b3ec5350d018"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gaa8d38630de6f6ace1cb1b3ec5350d018">log_diag_field_info</a> (module_name, field_name, axes, long_name, units, missing_value, range, dynamic)</td></tr>
<tr class="memdesc:gaa8d38630de6f6ace1cb1b3ec5350d018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes brief diagnostic field info to the log file.  <a href="group__diag__util__mod.html#gaa8d38630de6f6ace1cb1b3ec5350d018">More...</a><br /></td></tr>
<tr class="separator:gaa8d38630de6f6ace1cb1b3ec5350d018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac5cf9fdeba85eb93be4535e33ec02c5"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gaac5cf9fdeba85eb93be4535e33ec02c5">update_bounds</a> (out_num, lower_i, upper_i, lower_j, upper_j, lower_k, upper_k)</td></tr>
<tr class="memdesc:gaac5cf9fdeba85eb93be4535e33ec02c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the <code>output_fields</code> x, y, and z min and max boundaries (array indices).  <a href="group__diag__util__mod.html#gaac5cf9fdeba85eb93be4535e33ec02c5">More...</a><br /></td></tr>
<tr class="separator:gaac5cf9fdeba85eb93be4535e33ec02c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89812bbef60d702afa04f57d3476344d"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga89812bbef60d702afa04f57d3476344d">check_out_of_bounds</a> (out_num, diag_field_id, err_msg)</td></tr>
<tr class="memdesc:ga89812bbef60d702afa04f57d3476344d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the array indices for <code>output_fields(out_num)</code> are outside the <code>output_fields(out_num)buffer</code> upper and lower bounds.  <a href="group__diag__util__mod.html#ga89812bbef60d702afa04f57d3476344d">More...</a><br /></td></tr>
<tr class="separator:ga89812bbef60d702afa04f57d3476344d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf04fa5bd74518dd9e15e377ee7bcd1db"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gaf04fa5bd74518dd9e15e377ee7bcd1db">check_bounds_are_exact_dynamic</a> (out_num, diag_field_id, Time, err_msg)</td></tr>
<tr class="memdesc:gaf04fa5bd74518dd9e15e377ee7bcd1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the array indices for <code>output_fields(out_num)</code> are equal to the <code>output_fields(out_num)buffer</code> upper and lower bounds.  <a href="group__diag__util__mod.html#gaf04fa5bd74518dd9e15e377ee7bcd1db">More...</a><br /></td></tr>
<tr class="separator:gaf04fa5bd74518dd9e15e377ee7bcd1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0dba316d94c092ffaf900e8989f09e9f"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga0dba316d94c092ffaf900e8989f09e9f">check_bounds_are_exact_static</a> (out_num, diag_field_id, err_msg)</td></tr>
<tr class="memdesc:ga0dba316d94c092ffaf900e8989f09e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the array indices for <code>output_fields(out_num)</code> are equal to the <code>output_fields(out_num)buffer</code> upper and lower bounds.  <a href="group__diag__util__mod.html#ga0dba316d94c092ffaf900e8989f09e9f">More...</a><br /></td></tr>
<tr class="separator:ga0dba316d94c092ffaf900e8989f09e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b6c27c26a596231c2b4f5b3a6550648"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga0b6c27c26a596231c2b4f5b3a6550648">init_file</a> (name, output_freq, output_units, format, time_units, long_name, tile_count, new_file_freq, new_file_freq_units, start_time, file_duration, file_duration_units, filename_time_bounds)</td></tr>
<tr class="memdesc:ga0b6c27c26a596231c2b4f5b3a6550648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the output file.  <a href="group__diag__util__mod.html#ga0b6c27c26a596231c2b4f5b3a6550648">More...</a><br /></td></tr>
<tr class="separator:ga0b6c27c26a596231c2b4f5b3a6550648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8173f2ae692d8b1cef9f1bca76ad8910"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga8173f2ae692d8b1cef9f1bca76ad8910">sync_file_times</a> (file_id, init_time, err_msg)</td></tr>
<tr class="memdesc:ga8173f2ae692d8b1cef9f1bca76ad8910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize the file's start and close times with the model start and end times.  <a href="group__diag__util__mod.html#ga8173f2ae692d8b1cef9f1bca76ad8910">More...</a><br /></td></tr>
<tr class="separator:ga8173f2ae692d8b1cef9f1bca76ad8910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad641c599ff7a1c0cfc0eb32b10443c27"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>) function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gad641c599ff7a1c0cfc0eb32b10443c27">diag_time_inc</a> (time, output_freq, output_units, err_msg)</td></tr>
<tr class="memdesc:gad641c599ff7a1c0cfc0eb32b10443c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the next time data/file is to be written based on the frequency and units.  <a href="group__diag__util__mod.html#gad641c599ff7a1c0cfc0eb32b10443c27">More...</a><br /></td></tr>
<tr class="separator:gad641c599ff7a1c0cfc0eb32b10443c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64d623b5f80918996daf16f942bcb404"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga64d623b5f80918996daf16f942bcb404">find_file</a> (name, tile_count)</td></tr>
<tr class="memdesc:ga64d623b5f80918996daf16f942bcb404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file number for file name and tile.  <a href="group__diag__util__mod.html#ga64d623b5f80918996daf16f942bcb404">More...</a><br /></td></tr>
<tr class="separator:ga64d623b5f80918996daf16f942bcb404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120ca6467cad328befb3961c18381172"><td class="memItemLeft" align="right" valign="top">integer function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga120ca6467cad328befb3961c18381172">find_input_field</a> (module_name, field_name, tile_count)</td></tr>
<tr class="memdesc:ga120ca6467cad328befb3961c18381172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the field number for the given module name, field name, and tile number.  <a href="group__diag__util__mod.html#ga120ca6467cad328befb3961c18381172">More...</a><br /></td></tr>
<tr class="separator:ga120ca6467cad328befb3961c18381172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08ecbb715699d08631efe4e60a4029ff"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga08ecbb715699d08631efe4e60a4029ff">init_input_field</a> (module_name, field_name, tile_count)</td></tr>
<tr class="memdesc:ga08ecbb715699d08631efe4e60a4029ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the input field.  <a href="group__diag__util__mod.html#ga08ecbb715699d08631efe4e60a4029ff">More...</a><br /></td></tr>
<tr class="separator:ga08ecbb715699d08631efe4e60a4029ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cda424e7c8acb1935958add5a002ffe"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga1cda424e7c8acb1935958add5a002ffe">init_output_field</a> (module_name, field_name, output_name, output_file, time_method, pack, tile_count, local_coord)</td></tr>
<tr class="memdesc:ga1cda424e7c8acb1935958add5a002ffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the output field.  <a href="group__diag__util__mod.html#ga1cda424e7c8acb1935958add5a002ffe">More...</a><br /></td></tr>
<tr class="separator:ga1cda424e7c8acb1935958add5a002ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga080607862bbe462075d2c80c32d7cd3d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga080607862bbe462075d2c80c32d7cd3d">opening_file</a> (file, time, filename_time)</td></tr>
<tr class="memdesc:ga080607862bbe462075d2c80c32d7cd3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file for output, and write the meta data.  <a href="group__diag__util__mod.html#ga080607862bbe462075d2c80c32d7cd3d">More...</a><br /></td></tr>
<tr class="separator:ga080607862bbe462075d2c80c32d7cd3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab35f99b9ccb0069696da67e65c46a303"><td class="memItemLeft" align="right" valign="top">character(len=128) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gab35f99b9ccb0069696da67e65c46a303">get_time_string</a> (filename, current_time)</td></tr>
<tr class="memdesc:gab35f99b9ccb0069696da67e65c46a303"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function determines a string based on current time. This string is used as suffix in output file name.  <a href="group__diag__util__mod.html#gab35f99b9ccb0069696da67e65c46a303">More...</a><br /></td></tr>
<tr class="separator:gab35f99b9ccb0069696da67e65c46a303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7831ec2625f74c8e9df312b6cd170ca0"><td class="memItemLeft" align="right" valign="top">real function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga7831ec2625f74c8e9df312b6cd170ca0">get_date_dif</a> (t2, t1, units)</td></tr>
<tr class="memdesc:ga7831ec2625f74c8e9df312b6cd170ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the difference between two times in units.  <a href="group__diag__util__mod.html#ga7831ec2625f74c8e9df312b6cd170ca0">More...</a><br /></td></tr>
<tr class="separator:ga7831ec2625f74c8e9df312b6cd170ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ba13ef1d2e071e0e38beb168cfc88e7"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga1ba13ef1d2e071e0e38beb168cfc88e7">diag_data_out</a> (file, field, dat, time, final_call_in, static_write_in, filename_time)</td></tr>
<tr class="memdesc:ga1ba13ef1d2e071e0e38beb168cfc88e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data out to file, and if necessary flush the buffers.  <a href="group__diag__util__mod.html#ga1ba13ef1d2e071e0e38beb168cfc88e7">More...</a><br /></td></tr>
<tr class="separator:ga1ba13ef1d2e071e0e38beb168cfc88e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae871029d44ef9d39e680ef94c6d2ad1e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gae871029d44ef9d39e680ef94c6d2ad1e">check_and_open</a> (file, time, do_write, filename_time)</td></tr>
<tr class="memdesc:gae871029d44ef9d39e680ef94c6d2ad1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if it is time to open a new file.  <a href="group__diag__util__mod.html#gae871029d44ef9d39e680ef94c6d2ad1e">More...</a><br /></td></tr>
<tr class="separator:gae871029d44ef9d39e680ef94c6d2ad1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga162741650fdc9582bf1aeaf0c04d4417"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga162741650fdc9582bf1aeaf0c04d4417">write_static</a> (file)</td></tr>
<tr class="memdesc:ga162741650fdc9582bf1aeaf0c04d4417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output all static fields in this file.  <a href="group__diag__util__mod.html#ga162741650fdc9582bf1aeaf0c04d4417">More...</a><br /></td></tr>
<tr class="separator:ga162741650fdc9582bf1aeaf0c04d4417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80f6d43eb251fb619824021c0977da70"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#ga80f6d43eb251fb619824021c0977da70">check_duplicate_output_fields</a> (err_msg)</td></tr>
<tr class="memdesc:ga80f6d43eb251fb619824021c0977da70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if <code>output_name</code> and <code>output_file</code> are unique in <code>output_fields</code>.  <a href="group__diag__util__mod.html#ga80f6d43eb251fb619824021c0977da70">More...</a><br /></td></tr>
<tr class="separator:ga80f6d43eb251fb619824021c0977da70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae50021eac70f2c1d81935b584d1f4da9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gae50021eac70f2c1d81935b584d1f4da9">attribute_init_field</a> (out_field, err_msg)</td></tr>
<tr class="memdesc:gae50021eac70f2c1d81935b584d1f4da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the atttype in out_field.  <a href="group__diag__util__mod.html#gae50021eac70f2c1d81935b584d1f4da9">More...</a><br /></td></tr>
<tr class="separator:gae50021eac70f2c1d81935b584d1f4da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac38f37dff10653521379703f7000f6cc"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gac38f37dff10653521379703f7000f6cc">prepend_attribute_field</a> (out_field, att_name, prepend_value, err_msg)</td></tr>
<tr class="memdesc:gac38f37dff10653521379703f7000f6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepends the attribute value to an already existing attribute. If the attribute isn't yet defined, then creates a new attribute.  <a href="group__diag__util__mod.html#gac38f37dff10653521379703f7000f6cc">More...</a><br /></td></tr>
<tr class="separator:gac38f37dff10653521379703f7000f6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7672a732b7b5e54cdddd13e9155583f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gad7672a732b7b5e54cdddd13e9155583f">attribute_init_file</a> (out_file, err_msg)</td></tr>
<tr class="memdesc:gad7672a732b7b5e54cdddd13e9155583f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the atttype in out_file.  <a href="group__diag__util__mod.html#gad7672a732b7b5e54cdddd13e9155583f">More...</a><br /></td></tr>
<tr class="separator:gad7672a732b7b5e54cdddd13e9155583f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab09b67c2e2f65d7103e195fb2596fb17"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__diag__util__mod.html#gab09b67c2e2f65d7103e195fb2596fb17">prepend_attribute_file</a> (out_file, att_name, prepend_value, err_msg)</td></tr>
<tr class="memdesc:gab09b67c2e2f65d7103e195fb2596fb17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepends the attribute value to an already existing attribute. If the attribute isn't yet defined, then creates a new attribute.  <a href="group__diag__util__mod.html#gab09b67c2e2f65d7103e195fb2596fb17">More...</a><br /></td></tr>
<tr class="separator:gab09b67c2e2f65d7103e195fb2596fb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaa925949ddffd0524e9998c9e0c71a810"><td class="memItemLeft" align="right" valign="top"><a id="gaa925949ddffd0524e9998c9e0c71a810"></a>
logical&#160;</td><td class="memItemRight" valign="bottom"><b>module_initialized</b> = .FALSE.</td></tr>
<tr class="separator:gaa925949ddffd0524e9998c9e0c71a810"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions and subroutines necessary for the <code>diag_manager_mod</code>. </p>
<dl class="section author"><dt>Author</dt><dd>Seth Underwood </dd></dl>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="gae50021eac70f2c1d81935b584d1f4da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae50021eac70f2c1d81935b584d1f4da9">&#9670;&nbsp;</a></span>attribute_init_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::attribute_init_field </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structdiag__data__mod_1_1output__field__type.html">output_field_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>out_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the atttype in out_field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">out_field</td><td>output field to allocate memory for attribute </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Error message, passed back to calling function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02386">2386</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gad7672a732b7b5e54cdddd13e9155583f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7672a732b7b5e54cdddd13e9155583f">&#9670;&nbsp;</a></span>attribute_init_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::attribute_init_file </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structdiag__data__mod_1_1file__type.html">file_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>out_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the atttype in out_file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">out_file</td><td>output file to allocate memory for attribute </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Error message, passed back to calling function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02502">2502</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gae871029d44ef9d39e680ef94c6d2ad1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae871029d44ef9d39e680ef94c6d2ad1e">&#9670;&nbsp;</a></span>check_and_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::check_and_open </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(out)&#160;</td>
          <td class="paramname"><em>do_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>filename_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if it is time to open a new file. </p>
<p>Checks if it is time to open a new file. If yes, it first closes the current file, opens a new file and returns file_unit previous diag_manager_end is replaced by closing_file and output_setup by opening_file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current model time. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">do_write</td><td><code>.TRUE.</code> if file is expecting more data to write, <code>.FALSE.</code> otherwise. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename_time</td><td>Time used in setting the filename when writting periodic files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename_time</td><td>Reset the number of times in the files back to 0 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02284">2284</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gaf04fa5bd74518dd9e15e377ee7bcd1db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf04fa5bd74518dd9e15e377ee7bcd1db">&#9670;&nbsp;</a></span>check_bounds_are_exact_dynamic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::check_bounds_are_exact_dynamic </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>out_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>diag_field_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the array indices for <code>output_fields(out_num)</code> are equal to the <code>output_fields(out_num)buffer</code> upper and lower bounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out_num</td><td>Output field ID number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diag_field_id</td><td>Input field ID number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Time to use in check. The check is only performed if <code>output_fields(out_num)Time_of_prev_field_data</code> is not equal to <code>Time</code> or <code>Time_zero</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Return status of <code>check_bounds_are_exact_dynamic</code>. An empty error string indicates the x, y, and z indices are equal to the buffer array boundaries. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00805">805</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga0dba316d94c092ffaf900e8989f09e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0dba316d94c092ffaf900e8989f09e9f">&#9670;&nbsp;</a></span>check_bounds_are_exact_static()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::check_bounds_are_exact_static </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>out_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>diag_field_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the array indices for <code>output_fields(out_num)</code> are equal to the <code>output_fields(out_num)buffer</code> upper and lower bounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out_num</td><td>Output field ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diag_field_id</td><td>Input field ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00871">871</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga80f6d43eb251fb619824021c0977da70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80f6d43eb251fb619824021c0977da70">&#9670;&nbsp;</a></span>check_duplicate_output_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::check_duplicate_output_fields </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks to see if <code>output_name</code> and <code>output_file</code> are unique in <code>output_fields</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Error message. If empty, then no duplicates found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02356">2356</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga89812bbef60d702afa04f57d3476344d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89812bbef60d702afa04f57d3476344d">&#9670;&nbsp;</a></span>check_out_of_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::check_out_of_bounds </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>out_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>diag_field_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the array indices for <code>output_fields(out_num)</code> are outside the <code>output_fields(out_num)buffer</code> upper and lower bounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out_num</td><td>Output field ID number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diag_field_id</td><td>Input field ID number. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Return status of <code>check_out_of_bounds</code>. An empty error string indicates the x, y, and z indices are not outside the buffer array boundaries. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00759">759</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga1ba13ef1d2e071e0e38beb168cfc88e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ba13ef1d2e071e0e38beb168cfc88e7">&#9670;&nbsp;</a></span>diag_data_out()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::diag_data_out </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:,:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>final_call_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>static_write_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>filename_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data out to file, and if necessary flush the buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field</td><td>Field ID. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dat</td><td>Data to write out. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current model time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">final_call_in</td><td><code>.TRUE.</code> if this is the last write for file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">static_write_in</td><td><code>.TRUE.</code> if static fields are to be written to file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename_time</td><td>Time used in setting the filename when writting periodic files </td></tr>
  </table>
  </dd>
</dl>
<p>dif is the time as a real that is evaluated</p>
<p>Set up the time index and write the correct time value to the time array</p>
<p>Write data</p>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02177">2177</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gad641c599ff7a1c0cfc0eb32b10443c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad641c599ff7a1c0cfc0eb32b10443c27">&#9670;&nbsp;</a></span>diag_time_inc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>) function, public diag_util_mod::diag_time_inc </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>output_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>output_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the next time data/file is to be written based on the frequency and units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current model time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_freq</td><td>Output frequency number value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_units</td><td>Output frequency unit. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Function error message. An empty string indicates the next output time was found successfully. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01123">1123</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga64d623b5f80918996daf16f942bcb404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64d623b5f80918996daf16f942bcb404">&#9670;&nbsp;</a></span>find_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer function diag_util_mod::find_file </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the file number for file name and tile. </p>
<dl class="section return"><dt>Returns</dt><dd>Integer find_file </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tile_count</td><td>Tile number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>File name. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01193">1193</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga120ca6467cad328befb3961c18381172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga120ca6467cad328befb3961c18381172">&#9670;&nbsp;</a></span>find_input_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public diag_util_mod::find_input_field </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the field number for the given module name, field name, and tile number. </p>
<dl class="section return"><dt>Returns</dt><dd>Integer find_input_field </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module_name</td><td>Module name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_name</td><td>field name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tile_count</td><td>Tile number. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01210">1210</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga7831ec2625f74c8e9df312b6cd170ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7831ec2625f74c8e9df312b6cd170ca0">&#9670;&nbsp;</a></span>get_date_dif()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real function, public diag_util_mod::get_date_dif </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>t2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>units</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the difference between two times in units. </p>
<dl class="section return"><dt>Returns</dt><dd>Real get_data_dif </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t2</td><td>Most recent time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t1</td><td>Most distant time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">units</td><td>Unit of return value. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02131">2131</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga01b637e7d0e8e84d29ddb75cd7b6ebbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01b637e7d0e8e84d29ddb75cd7b6ebbf">&#9670;&nbsp;</a></span>get_subfield_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::get_subfield_size </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>axes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>outnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the size, start, and end indices for output fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">axes</td><td>axes of the input_field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outnum</td><td>position in array output_fields </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00129">129</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga8d6d348cbcc3adcbb546196710b82201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d6d348cbcc3adcbb546196710b82201">&#9670;&nbsp;</a></span>get_subfield_vert_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::get_subfield_vert_size </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>axes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>outnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size, start and end indices for output fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">axes</td><td>axes of the input_field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outnum</td><td>position in array output_fields </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00410">410</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gab35f99b9ccb0069696da67e65c46a303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab35f99b9ccb0069696da67e65c46a303">&#9670;&nbsp;</a></span>get_time_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=128) function diag_util_mod::get_time_string </td>
          <td>(</td>
          <td class="paramtype">character(len=128), intent(in)&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>current_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function determines a string based on current time. This string is used as suffix in output file name. </p>
<dl class="section return"><dt>Returns</dt><dd>Character(len=128) get_time_string </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>File name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current_time</td><td>Current model time. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01990">1990</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga0b6c27c26a596231c2b4f5b3a6550648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b6c27c26a596231c2b4f5b3a6550648">&#9670;&nbsp;</a></span>init_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::init_file </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>output_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>output_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>time_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>long_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>new_file_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>new_file_freq_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>file_duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>file_duration_units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>filename_time_bounds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>File name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">long_name</td><td>Long name for time axis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_freq</td><td>How often data is to be written to the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_units</td><td>The output frequency unit. (MIN, HOURS, DAYS, etc.) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>Number type/kind the data is to be written out to the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_units</td><td>Time axis units. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tile_count</td><td>Tile number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_file_freq</td><td>How often a new file is to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_file_freq_units</td><td>The new file frequency unit. (MIN, HOURS, DAYS, etc.)&lt;/IN&gt; </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_duration</td><td>How long file is to be used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_duration_units</td><td>File duration unit. (MIN, HOURS, DAYS, etc.) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_time</td><td>Time when the file is to start </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename_time_bounds</td><td>Set time bound file name to </td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the times to 0</p>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00914">914</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga08ecbb715699d08631efe4e60a4029ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08ecbb715699d08631efe4e60a4029ff">&#9670;&nbsp;</a></span>init_input_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::init_input_field </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the input field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module_name</td><td>Module name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_name</td><td>Input field name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tile_count</td><td>Tile number. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01229">1229</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga1cda424e7c8acb1935958add5a002ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cda424e7c8acb1935958add5a002ffe">&#9670;&nbsp;</a></span>init_output_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::init_output_field </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>output_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>output_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>time_method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structdiag__data__mod_1_1coord__type.html">coord_type</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>local_coord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the output field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module_name</td><td>Module name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_name</td><td>Output field name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_name</td><td>Output name written to file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_file</td><td>File where field should be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_method</td><td>Data reduction method. See &lt;LINK SRC="diag_manager.html"&gt;diag_manager_mod&lt;/LINK&gt; for valid methods.&lt;/IN&gt; </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pack</td><td>Packing method. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tile_count</td><td>Tile number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_coord</td><td>Region to be written. If missing, then all data to be written.&lt;/IN&gt; </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01262">1262</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gaa8d38630de6f6ace1cb1b3ec5350d018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8d38630de6f6ace1cb1b3ec5350d018">&#9670;&nbsp;</a></span>log_diag_field_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::log_diag_field_info </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>axes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>long_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>missing_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>dynamic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes brief diagnostic field info to the log file. </p>
<p>If the <code>do_diag_field_log</code> namelist parameter is .TRUE., then a line briefly describing diagnostic field is added to the log file. Normally users should not call this subroutine directly, since it is called by register_static_field and register_diag_field if do_not_log is not set to .TRUE.. It is used, however, in LM3 to avoid excessive logs due to the number of fields registered for each of the tile types. LM3 code uses a do_not_log parameter in the registration calls, and subsequently calls this subroutine to log field information under a generic name. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module_name</td><td>Module name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_name</td><td>Field name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">axes</td><td>Axis IDs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">long_name</td><td>Long name for field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">units</td><td>Unit of field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">missing_value</td><td>Missing value value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">range</td><td>Valid range of values for field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dynamic</td><td><code>.TRUE.</code> if field is not static. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00630">630</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga080607862bbe462075d2c80c32d7cd3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga080607862bbe462075d2c80c32d7cd3d">&#9670;&nbsp;</a></span>opening_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::opening_file </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>filename_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open file for output, and write the meta data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Time for the file time stamp </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename_time</td><td>Time used in setting the filename when writting periodic files </td></tr>
  </table>
  </dd>
</dl>
<p>update fnum_for_domain with the correct domain</p>
<p>Allocate the is_time_axis_registered field and set it to false for the first trip</p>
<p>Use the correct file object</p>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01554">1554</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gac38f37dff10653521379703f7000f6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac38f37dff10653521379703f7000f6cc">&#9670;&nbsp;</a></span>prepend_attribute_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::prepend_attribute_field </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structdiag__data__mod_1_1output__field__type.html">output_field_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>out_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>att_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>prepend_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepends the attribute value to an already existing attribute. If the attribute isn't yet defined, then creates a new attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">out_field</td><td>output field that will get the attribute </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">att_name</td><td>Name of the attribute </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prepend_value</td><td>Value to prepend </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Error message, passed back to calling routine </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02415">2415</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gab09b67c2e2f65d7103e195fb2596fb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab09b67c2e2f65d7103e195fb2596fb17">&#9670;&nbsp;</a></span>prepend_attribute_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine diag_util_mod::prepend_attribute_file </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structdiag__data__mod_1_1file__type.html">file_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>out_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>att_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>prepend_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepends the attribute value to an already existing attribute. If the attribute isn't yet defined, then creates a new attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">out_file</td><td>output file that will get the attribute </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">att_name</td><td>Name of the attribute </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prepend_value</td><td>Value to prepend </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Error message, passed back to calling routine </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02530">2530</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga8173f2ae692d8b1cef9f1bca76ad8910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8173f2ae692d8b1cef9f1bca76ad8910">&#9670;&nbsp;</a></span>sync_file_times()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::sync_file_times </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>file_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structtime__manager__mod_1_1time__type.html">time_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>init_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronize the file's start and close times with the model start and end times. </p>
<p><code>sync_file_times</code> checks to see if the file start time is less than the model's init time (passed in as the only argument). If it is less, then the both the file start time and end time are synchronized using the passed in initial time and the duration as calculated by the <code>diag_time_inc</code> function. <code>sync_file_times</code> will also increase the <code>next_open</code> until it is greater than the init_time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_id</td><td>The file ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_time</td><td>Initial time use for the synchronization. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err_msg</td><td>Return error message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l01094">1094</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="gaac5cf9fdeba85eb93be4535e33ec02c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac5cf9fdeba85eb93be4535e33ec02c5">&#9670;&nbsp;</a></span>update_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::update_bounds </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>out_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lower_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>upper_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lower_j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>upper_j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lower_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>upper_k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the <code>output_fields</code> x, y, and z min and max boundaries (array indices). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out_num</td><td>output field ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lower_i</td><td>Lower i bound. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upper_i</td><td>Upper i bound. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lower_j</td><td>Lower j bound. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upper_j</td><td>Upper j bound. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lower_k</td><td>Lower k bound. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upper_k</td><td>Upper k bound. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l00740">740</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
<a id="ga162741650fdc9582bf1aeaf0c04d4417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga162741650fdc9582bf1aeaf0c04d4417">&#9670;&nbsp;</a></span>write_static()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public diag_util_mod::write_static </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output all static fields in this file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag__util_8F90_source.html#l02325">2325</a> of file <a class="el" href="diag__util_8F90_source.html">diag_util.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
